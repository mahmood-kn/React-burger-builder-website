(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[3],{106:function(e,t,a){"use strict";var n=a(12),i=a(0),l=a(107),u=a.n(l);a(1);t.a=function(e){var t=null,a=[u.a.InputEl];e.invalid&&e.shouldValidate&&e.touched&&a.push(u.a.Invalid);var l=null;switch(e.invalid&&e.touched&&(l=Object(i.jsx)("small",{className:u.a.validationMsg,children:null!==e.invalidMsg?e.invalidMsg:"Please enter valid ".concat(e.valueType)})),e.elementType){case"input":t=Object(i.jsx)("input",Object(n.a)(Object(n.a)({className:a.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":t=Object(i.jsx)("textarea",Object(n.a)(Object(n.a)({className:a.join(" ")},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":t=Object(i.jsx)("select",{className:a.join(" "),value:e.value,onChange:e.changed,children:e.elementConfig.options.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))});break;default:t=Object(i.jsx)("input",Object(n.a)(Object(n.a)({className:u.a.InputEl},e.elementConfig),{},{value:e.value,onChange:e.changed}))}return Object(i.jsxs)("div",{className:u.a.Input,children:[Object(i.jsx)("label",{className:u.a.Label,children:e.label}),t,l]})}},107:function(e,t,a){e.exports={Input:"Input_Input__1VLM8",InputEl:"Input_InputEl__2gEuY",Label:"Input_Label__23MFL",Select:"Input_Select__1jiG5",Invalid:"Input_Invalid__1vR_I",validationMsg:"Input_validationMsg__34l9T"}},109:function(e,t,a){e.exports={Auth:"Auth_Auth__1IpFk",Input:"Auth_Input__2iKDu",ErrorMsg:"Auth_ErrorMsg__N49Zy",FormHeader:"Auth_FormHeader__2GJUP"}},113:function(e,t,a){"use strict";a.r(t);var n=a(31),i=a(26),l=a(12),u=a(0),c=a(1),r=a(106),o=a(41),s=a(109),d=a.n(s),h=a(14),p=a(8),v=a(30),g=a(11),b=a(10),j={controls:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Your Email"},value:"",touched:!1,validation:{required:!0,isEmail:!0},valid:!1,invalidMsg:"Your email is not valid"},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Your password"},value:"",touched:!1,validation:{required:!0,minLength:6,maxLength:10},valid:!1,invalidMsg:"Your password must be more than 6 characters"}},isSignUp:!0},m=function(e,t){switch(t.type){case"SWITCH_HANDLER":return Object(l.a)(Object(l.a)({},e),{},{isSignUp:!e.isSignUp});case"INPUT_CHANGE_HANDLER":return Object(l.a)(Object(l.a)({},e),{},{controls:Object(b.b)(e.controls,Object(i.a)({},t.id,Object(b.b)(e.controls[t.id],{value:t.value,valid:Object(b.a)(t.value,e.controls[t.id].validation),touched:!0})))});default:throw new Error("should not come here!")}};t.default=Object(h.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuthenticated:null!==e.auth.token,authRedirectPath:e.auth.authRedirectPath,buildingBurger:e.burgerBuilder.building}}),(function(e){return{onAuth:function(t,a,n){return e(p.b(t,a,n))},onSetAuthRedirectPath:function(){return e(p.z("/"))}}}))((function(e){var t=Object(c.useReducer)(m,j),a=Object(n.a)(t,2),i=a[0],l=a[1],s=e.onSetAuthRedirectPath,h=e.isAuthenticated,p=e.buildingBurger;Object(c.useEffect)((function(){h||p||s()}),[s,h,p]);var b=[];for(var f in i.controls)b.push({id:f,config:i.controls[f]});var _=b.map((function(e){return Object(u.jsx)(r.a,{label:e.id.toUpperCase(),elementConfig:e.config.elementConfig,elementType:e.config.elementType,value:e.config.value,invalid:!e.config.valid,shouldValidate:e.config.validation,touched:e.config.touched,valueType:e.id,invalidMsg:e.config.invalidMsg?e.config.invalidMsg:null,changed:function(t){return function(e,t){l({type:"INPUT_CHANGE_HANDLER",value:e.target.value,id:t})}(t,e.id)}},e.id)}));e.loading&&(_=Object(u.jsx)(v.a,{}));var O=null;e.error&&(O=Object(u.jsx)("p",{className:d.a.ErrorMsg,children:e.error.message}));var I=null;e.isAuthenticated&&(I=Object(u.jsx)(g.a,{to:e.authRedirectPath}));var x=Object(u.jsx)("h1",{className:d.a.FormHeader,children:"SIGN UP"});return i.isSignUp||(x=Object(u.jsx)("h1",{className:d.a.FormHeader,children:"SIGN IN"})),Object(u.jsxs)("div",{className:d.a.Auth,children:[I,x,O,Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onAuth(i.controls.email.value,i.controls.password.value,i.isSignUp)},children:[_,Object(u.jsx)(o.a,{type:"Success",children:"SUBMIT"})]}),Object(u.jsxs)(o.a,{clicked:function(){l({type:"SWITCH_HANDLER"})},type:"Danger",children:["Switch to ",i.isSignUp?"SignIn":"SignUp"]})]})}))}}]);
//# sourceMappingURL=3.dcd5b3d4.chunk.js.map